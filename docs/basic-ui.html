<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Basic UI | Mastering Shiny</title>
<meta name="author" content="Hadley Wickham">
<meta name="generator" content="bookdown 0.34.2 with bs4_book()">
<meta property="og:title" content="Chapter 2 Basic UI | Mastering Shiny">
<meta property="og:type" content="book">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Basic UI | Mastering Shiny">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.5.0/transition.js"></script><script src="libs/bs3compat-0.5.0/tabs.js"></script><script src="libs/bs3compat-0.5.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141197094-1"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-141197094-1');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<meta name="description" content="2.1 Introduction 现在您已经掌握了一个基本的 app，我们可以开始探索让 Shiny 发挥作用的细节。 正如您在上一章中看到的，Shiny 鼓励将生成用户界面（前端）的代码与驱动 app 行为的代码（后端）分离。 在本章中，我们将重点关注前端，并带您快速了解 Shiny 提供的 HTML 输入和输出。 这使您能够捕获多种类型的数据并显示多种类型的 R 输出。...">
<meta property="og:description" content="2.1 Introduction 现在您已经掌握了一个基本的 app，我们可以开始探索让 Shiny 发挥作用的细节。 正如您在上一章中看到的，Shiny 鼓励将生成用户界面（前端）的代码与驱动 app 行为的代码（后端）分离。 在本章中，我们将重点关注前端，并带您快速了解 Shiny 提供的 HTML 输入和输出。 这使您能够捕获多种类型的数据并显示多种类型的 R 输出。...">
<meta name="twitter:description" content="2.1 Introduction 现在您已经掌握了一个基本的 app，我们可以开始探索让 Shiny 发挥作用的细节。 正如您在上一章中看到的，Shiny 鼓励将生成用户界面（前端）的代码与驱动 app 行为的代码（后端）分离。 在本章中，我们将重点关注前端，并带您快速了解 Shiny 提供的 HTML 输入和输出。 这使您能够捕获多种类型的数据并显示多种类型的 R 输出。...">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Mastering Shiny</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="preface.html">Preface</a></li>
<li class="book-part">Getting started</li>
<li><a class="" href="basic-intro.html">Introduction</a></li>
<li><a class="" href="basic-app.html"><span class="header-section-number">1</span> Your first Shiny app</a></li>
<li><a class="active" href="basic-ui.html"><span class="header-section-number">2</span> Basic UI</a></li>
<li><a class="" href="basic-reactivity.html"><span class="header-section-number">3</span> Basic reactivity</a></li>
<li><a class="" href="basic-case-study.html"><span class="header-section-number">4</span> Case study: ER injuries</a></li>
<li class="book-part">Shiny in action</li>
<li><a class="" href="action-intro.html">Introduction</a></li>
<li><a class="" href="action-workflow.html"><span class="header-section-number">5</span> Workflow</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/zhenghu159/mastering-shiny-zh-cn">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="basic-ui" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Basic UI<a class="anchor" aria-label="anchor" href="#basic-ui"><i class="fas fa-link"></i></a>
</h1>
<div id="introduction-1" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-1"><i class="fas fa-link"></i></a>
</h2>
<p>现在您已经掌握了一个基本的 app，我们可以开始探索让 Shiny 发挥作用的细节。
正如您在上一章中看到的，Shiny 鼓励将生成用户界面（前端）的代码与驱动 app 行为的代码（后端）分离。</p>
<p>在本章中，我们将重点关注前端，并带您快速了解 Shiny 提供的 HTML 输入和输出。
这使您能够捕获多种类型的数据并显示多种类型的 R 输出。
你还没有很多方法将输入和输出拼接在一起，但我们将在 Chapter <a href="#action-layout"><strong>??</strong></a> 中回到这一点。</p>
<p>在这里，我将主要坚持 Shiny 本身内置的输入和输出。
然而，有一个丰富且充满活力的扩展包社区，例如 <a href="https://github.com/dreamRs/shinyWidgets">shinyWidgets</a>、<a href="https://github.com/daattali/colourpicker">colorpicker</a>、和 <a href="https://rstudio.github.io/sortable/">sorttable</a>。
您可以在 <a href="https://github.com/nanxstats/awesome-shiny-extensions" class="uri">https://github.com/nanxstats/awesome-shiny-extensions</a> 找到全面的、积极维护的其他软件包列表，由 <a href="https://nanx.me/">Nan Xiao</a> 维护。</p>
<p>像往常一样，我们将首先加载 shiny 包：</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div id="inputs" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Inputs<a class="anchor" aria-label="anchor" href="#inputs"><i class="fas fa-link"></i></a>
</h2>
<p>正如我们在上一章中看到的，您可以使用 <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code>、<code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput()</a></code>、<code><a href="https://rdrr.io/pkg/shiny/man/textInput.html">textInput()</a></code> 和 <code><a href="https://rdrr.io/pkg/shiny/man/numericInput.html">numericInput()</a></code> 等函数将输入控件插入到 UI 规范中。
现在我们将讨论所有输入函数的通用结构，并快速概述 Shiny 中内置的输入。</p>
<div id="common-structure" class="section level3" number="2.2.1">
<h3>
<span class="header-section-number">2.2.1</span> Common structure<a class="anchor" aria-label="anchor" href="#common-structure"><i class="fas fa-link"></i></a>
</h3>
<p>所有输入函数都有相同的第一个参数：<code>inputId</code>。
这是用于连接前端和后端的标识符：如果您的 UI 有一个 ID 为 <code>"name"</code> 的输入，server 函数将使用 <code>input$name</code> 访问它。</p>
<p><code>inputId</code> 有两个约束：</p>
<ul>
<li><p>它必须是一个仅包含字母、数字和下划线的简单字符串（不允许包含空格、短划线、句点或其他特殊字符！）。
命名它就像在 R 中命名变量一样。</p></li>
<li><p>它必须是独一无二的。
如果它不是唯一的，您将无法在 server 函数中引用此控件！</p></li>
</ul>
<p>大多数输入函数都有第二个参数，称为 <code>label</code>。
这用于为控件创建人类可读的标签。
Shiny 不会对此字符串施加任何限制，但您需要仔细考虑它以确保您的 app 可供人类使用！
第三个参数通常是 <code>value</code>，在可能的情况下，让您设置默认值。
其余参数对于该控件来说是唯一的。</p>
<p>创建输入时，我建议按位置提供 <code>inputId</code> 和 <code>label</code> 参数，并按名称提供所有其他参数：</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span><span class="st">"min"</span>, <span class="st">"Limit (minimum)"</span>, value <span class="op">=</span> <span class="fl">50</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span></code></pre></div>
<p>以下部分描述了 Shiny 中内置的输入，根据它们创建的控件类型松散地分组。
目的是让您快速了解您的选择，而不是详尽地描述所有参数。
我将在下面显示每个控件最重要的参数，但您需要阅读文档才能获取完整的详细信息。</p>
</div>
<div id="free-text" class="section level3" number="2.2.2">
<h3>
<span class="header-section-number">2.2.2</span> Free text<a class="anchor" aria-label="anchor" href="#free-text"><i class="fas fa-link"></i></a>
</h3>
<p>使用 <code><a href="https://rdrr.io/pkg/shiny/man/textInput.html">textInput()</a></code> 收集少量文本，使用 <code><a href="https://rdrr.io/pkg/shiny/man/passwordInput.html">passwordInput()</a></code><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;&lt;code&gt;passwordInput()&lt;/code&gt; 所做的只是隐藏用户正在输入的内容，这样别人就无法看到它。
您必须确保密码不会意外泄露，因此除非您接受过安全编程方面的培训，否则我们不建议您使用密码。&lt;/p&gt;"><sup>3</sup></a> 收集密码，使用 <code><a href="https://rdrr.io/pkg/shiny/man/textAreaInput.html">textAreaInput()</a></code> 收集文本段落。</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html">textInput</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"What's your name?"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/passwordInput.html">passwordInput</a></span><span class="op">(</span><span class="st">"password"</span>, <span class="st">"What's your password?"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textAreaInput.html">textAreaInput</a></span><span class="op">(</span><span class="st">"story"</span>, <span class="st">"Tell me about yourself"</span>, rows <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/free-text.png" width="600"></div>
<p>如果你想确保文本具有某些属性，你可以使用 <code><a href="https://rdrr.io/pkg/shiny/man/validate.html">validate()</a></code>，我们将在 Chapter <a href="#action-feedback"><strong>??</strong></a> 中讨论这一点。</p>
</div>
<div id="numeric-inputs" class="section level3" number="2.2.3">
<h3>
<span class="header-section-number">2.2.3</span> Numeric inputs<a class="anchor" aria-label="anchor" href="#numeric-inputs"><i class="fas fa-link"></i></a>
</h3>
<p>要收集数值，请使用 <code><a href="https://rdrr.io/pkg/shiny/man/numericInput.html">numericInput()</a></code> 创建受约束的文本框或使用 <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code> 创建滑块。
如果为 <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code> 的默认值提供长度为 2 的数值向量，您将得到一个有两端的“范围”滑块。</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/numericInput.html">numericInput</a></span><span class="op">(</span><span class="st">"num"</span>, <span class="st">"Number one"</span>, value <span class="op">=</span> <span class="fl">0</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span><span class="st">"num2"</span>, <span class="st">"Number two"</span>, value <span class="op">=</span> <span class="fl">50</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput</a></span><span class="op">(</span><span class="st">"rng"</span>, <span class="st">"Range"</span>, value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span><span class="op">)</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">100</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/numeric.png" width="600"></div>
<p>一般来说，我建议仅在小范围或精确值不太重要的情况下使用滑块。
尝试在小滑块上精确选择数字是一项令人沮丧的练习！</p>
<p>滑块是高度可定制的，并且有很多方法可以调整其外观。有关更多详细信息，请参阅 <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">?sliderInput</a></code> 和 <a href="https://shiny.rstudio.com/articles/sliders.html" class="uri">https://shiny.rstudio.com/articles/sliders.html</a>。</p>
</div>
<div id="dates" class="section level3" number="2.2.4">
<h3>
<span class="header-section-number">2.2.4</span> Dates<a class="anchor" aria-label="anchor" href="#dates"><i class="fas fa-link"></i></a>
</h3>
<p>使用 <code><a href="https://rdrr.io/pkg/shiny/man/dateInput.html">dateInput()</a></code> 收集单个日期，或使用 <code><a href="https://rdrr.io/pkg/shiny/man/dateRangeInput.html">dateRangeInput()</a></code> 收集两个日期的范围。
它们提供了一个方便的日历选择器，并且像 <code>datesdisabled</code> 和 <code>daysofweekdisabled</code> 这样的附加参数允许您限制有效输入的集合。</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/dateInput.html">dateInput</a></span><span class="op">(</span><span class="st">"dob"</span>, <span class="st">"When were you born?"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/dateRangeInput.html">dateRangeInput</a></span><span class="op">(</span><span class="st">"holiday"</span>, <span class="st">"When do you want to go on vacation next?"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/date.png" width="600"></div>
<p>日期格式、语言和一周开始日期默认为美国标准。
如果您要创建面向国际受众的应用程序，请设置 <code>format</code>、<code>language</code>、和 <code>weekstart</code>，以便日期对您的用户来说是自然的。</p>
</div>
<div id="limited-choices" class="section level3" number="2.2.5">
<h3>
<span class="header-section-number">2.2.5</span> Limited choices<a class="anchor" aria-label="anchor" href="#limited-choices"><i class="fas fa-link"></i></a>
</h3>
<p>有两种不同的方法允许用户从一组预先指定的选项中进行选择：<code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput()</a></code> 和 <code><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html">radioButtons()</a></code>。</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">animals</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dog"</span>, <span class="st">"cat"</span>, <span class="st">"mouse"</span>, <span class="st">"bird"</span>, <span class="st">"other"</span>, <span class="st">"I hate animals"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span><span class="st">"state"</span>, <span class="st">"What's your favourite state?"</span>, <span class="va">state.name</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html">radioButtons</a></span><span class="op">(</span><span class="st">"animal"</span>, <span class="st">"What's your favourite animal?"</span>, <span class="va">animals</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/limited-choices.png" width="600"></div>
<p>单选按钮有两个很好的功能：它们显示所有可能的选项，使其适合短列表，并且通过 <code>choiceNames</code>/<code>choiceValues</code> 参数，它们可以显示纯文本以外的选项。
<code>choiceNames</code> 决定向用户显示的内容；<code>choiceValues</code> 决定 server 函数中返回的内容。</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/radioButtons.html">radioButtons</a></span><span class="op">(</span><span class="st">"rb"</span>, <span class="st">"Choose one:"</span>,</span>
<span>    choiceNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/icon.html">icon</a></span><span class="op">(</span><span class="st">"angry"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/icon.html">icon</a></span><span class="op">(</span><span class="st">"smile"</span><span class="op">)</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/icon.html">icon</a></span><span class="op">(</span><span class="st">"sad-tear"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    choiceValues <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"angry"</span>, <span class="st">"happy"</span>, <span class="st">"sad"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/radio-icon.png" width="600"></div>
<p>无论选项数量多少，使用 <code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput()</a></code> 创建的下拉菜单都会占用相同的空间，这使得它们更适合较长的选项。
您还可以设置 <code>multiple = TRUE</code> 以允许用户选择多个元素。</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput</a></span><span class="op">(</span></span>
<span>    <span class="st">"state"</span>, <span class="st">"What's your favourite state?"</span>, <span class="va">state.name</span>,</span>
<span>    multiple <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="images/basic-ui/multi-select.png" width="234"></div>
<p>如果您有大量可能的选项，您可能需要使用“服务器端” <code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput()</a></code>，以便完整的可能选项集不会嵌入到 UI 中（这会导致加载速度变慢），而是由 server 根据需要发送。
您可以在 <a href="https://shiny.rstudio.com/articles/selectize.html#server-side-selectize" class="uri">https://shiny.rstudio.com/articles/selectize.html#server-side-selectize</a> 了解有关此高级主题的更多信息。</p>
<p>无法使用单选按钮选择多个值，但有一个概念上类似的替代方案：<code><a href="https://rdrr.io/pkg/shiny/man/checkboxGroupInput.html">checkboxGroupInput()</a></code>。</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/checkboxGroupInput.html">checkboxGroupInput</a></span><span class="op">(</span><span class="st">"animal"</span>, <span class="st">"What animals do you like?"</span>, <span class="va">animals</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/multi-radio.png" width="600"></div>
<p>如果您想要单个复选框用于单个是/否问题，请使用 <code><a href="https://rdrr.io/pkg/shiny/man/checkboxInput.html">checkboxInput()</a></code>：</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/checkboxInput.html">checkboxInput</a></span><span class="op">(</span><span class="st">"cleanup"</span>, <span class="st">"Clean up?"</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/checkboxInput.html">checkboxInput</a></span><span class="op">(</span><span class="st">"shutdown"</span>, <span class="st">"Shutdown?"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/yes-no.png" width="600"></div>
</div>
<div id="file-uploads" class="section level3" number="2.2.6">
<h3>
<span class="header-section-number">2.2.6</span> File uploads<a class="anchor" aria-label="anchor" href="#file-uploads"><i class="fas fa-link"></i></a>
</h3>
<p>通过 <code><a href="https://rdrr.io/pkg/shiny/man/fileInput.html">fileInput()</a></code> 允许用户使上传文件：</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fileInput.html">fileInput</a></span><span class="op">(</span><span class="st">"upload"</span>, <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/upload.png" width="600"></div>
<p><code><a href="https://rdrr.io/pkg/shiny/man/fileInput.html">fileInput()</a></code> 需要在服务器端进行特殊处理，在 Chapter <a href="#action-transfer"><strong>??</strong></a> 中详细讨论。</p>
</div>
<div id="action-buttons" class="section level3" number="2.2.7">
<h3>
<span class="header-section-number">2.2.7</span> Action buttons<a class="anchor" aria-label="anchor" href="#action-buttons"><i class="fas fa-link"></i></a>
</h3>
<p>使用 <code><a href="https://rdrr.io/pkg/shiny/man/actionButton.html">actionButton()</a></code> 或<code><a href="https://rdrr.io/pkg/shiny/man/actionButton.html">actionLink()</a></code> 让用户执行操作：</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html">actionButton</a></span><span class="op">(</span><span class="st">"click"</span>, <span class="st">"Click me!"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html">actionButton</a></span><span class="op">(</span><span class="st">"drink"</span>, <span class="st">"Drink me!"</span>, icon <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/icon.html">icon</a></span><span class="op">(</span><span class="st">"cocktail"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/action.png" width="600"></div>
<p>操作链接和按钮最自然地与 server 函数中的 <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">observeEvent()</a></code> 或 <code><a href="https://rdrr.io/pkg/shiny/man/observeEvent.html">eventReactive()</a></code> 配对。
您还没有了解这些重要的功能，但我们将在 Section <a href="basic-reactivity.html#controlling-timing-of-evaluation">3.5</a> 中回顾它们。</p>
<p>您可以使用 <code>class</code> 参数通过使用 <code>"btn-primary"</code>、<code>"btn-success"</code>、<code>"btn-info"</code>、<code>"btn-warning"</code>、<code>"btn-danger"</code> 其中的一个来自定义外观。
您还可以使用 <code>"btn-lg"</code>、<code>"btn-sm"</code>、<code>"btn-xs"</code> 更改大小。
最后，您可以使用 <code>"btn-block"</code> 使按钮跨越它们嵌入的元素的整个宽度。</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidRow</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html">actionButton</a></span><span class="op">(</span><span class="st">"click"</span>, <span class="st">"Click me!"</span>, class <span class="op">=</span> <span class="st">"btn-danger"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html">actionButton</a></span><span class="op">(</span><span class="st">"drink"</span>, <span class="st">"Drink me!"</span>, class <span class="op">=</span> <span class="st">"btn-lg btn-success"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidRow</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/actionButton.html">actionButton</a></span><span class="op">(</span><span class="st">"eat"</span>, <span class="st">"Eat me!"</span>, class <span class="op">=</span> <span class="st">"btn-block"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/action-css.png" width="600"></div>
<p><code>class</code> 参数通过设置底层 HTML 的 <code>class</code> 属性来工作，这会影响元素的样式。
要查看其他选项，您可以阅读 Bootstrap（Shiny 使用的 CSS 设计系统）的文档：<a href="http://bootstrapdocs.com/v3.3.6/docs/css/#buttons" class="uri">&lt;http://bootstrapdocs.com/v3.3.6/docs/css/#buttons&gt;</a>。</p>
</div>
<div id="exercises-1" class="section level3" number="2.2.8">
<h3>
<span class="header-section-number">2.2.8</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-1"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<p>当空间非常宝贵时，使用出现在文本输入区域内的占位符来标记文本框非常有用。
如何调用 <code><a href="https://rdrr.io/pkg/shiny/man/textInput.html">textInput()</a></code> 来生成下面的 UI？</p>
<div class="inline-figure"><img src="demos/basic-ui/placeholder.png" width="600"></div>
</li>
<li>
<p>仔细阅读 <code><a href="https://rdrr.io/pkg/shiny/man/sliderInput.html">sliderInput()</a></code> 的文档，了解如何创建日期滑块，如下所示。</p>
<div class="inline-figure"><img src="demos/basic-ui/date-slider.png" width="600"></div>
</li>
<li><p>创建一个滑块输入以选择 0 到 100 之间的值，其中滑块上每个可选值之间的间隔为 5。
然后，向 input widget 添加动画，以便当用户按下“播放”时，input widget 会自动滚动该范围。</p></li>
<li><p>如果 <code><a href="https://rdrr.io/pkg/shiny/man/selectInput.html">selectInput()</a></code> 中有一个相当长的列表，那么创建将列表分成几部分的子标题会很有用。
阅读文档以了解如何操作。
（提示：底层 HTML 称为 <code>&lt;optgroup&gt;</code>。）</p></li>
</ol>
</div>
</div>
<div id="outputs" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Outputs<a class="anchor" aria-label="anchor" href="#outputs"><i class="fas fa-link"></i></a>
</h2>
<p>UI 中的输出创建占位符，稍后由 server 函数填充。
与输入一样，输出采用唯一的 ID 作为其第一个参数<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;请注意，该参数的名称对于输入（&lt;code&gt;inputId&lt;/code&gt;）和输出（&lt;code&gt;outputId&lt;/code&gt;）是不同的。
我不使用第一个参数的名称，因为它非常重要，我希望您无需额外提示就能记住它的作用。&lt;/p&gt;"><sup>4</sup></a>：如果您的 UI 规范创建 ID 为 <code>"plot"</code> 的输出，您将在 server 函数中使用 <code>output$plot</code> 访问它。</p>
<p>前端的每个 <code>output</code> 函数都与后端的 <code>render</code> 函数耦合。
输出主要有三种类型，对应于报告中通常包含的三种内容：文本、表格和图表。
以下部分向您展示前端输出函数的基础知识，以及后端相应的 <code>render</code> 函数。</p>
<div id="text" class="section level3" number="2.3.1">
<h3>
<span class="header-section-number">2.3.1</span> Text<a class="anchor" aria-label="anchor" href="#text"><i class="fas fa-link"></i></a>
</h3>
<p>使用 <code><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">textOutput()</a></code> 输出常规文本，使用 <code><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">verbatimTextOutput()</a></code> 输出固定代码和控制台输出。</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">textOutput</a></span><span class="op">(</span><span class="st">"text"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"code"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderText</a></span><span class="op">(</span><span class="op">{</span> </span>
<span>    <span class="st">"Hello friend!"</span> </span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">code</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderPrint</a></span><span class="op">(</span><span class="op">{</span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> </span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/output-text.png" width="600"></div>
<p>请注意，仅当需要运行多行代码时，render 函数中才需要 <code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code>。
正如您很快就会了解到的，您应该在 render 函数中进行尽可能少的计算，这意味着您通常可以忽略它们。
如果写得更紧凑的话，上面的 server 函数会是这样的：</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderText</a></span><span class="op">(</span><span class="st">"Hello friend!"</span><span class="op">)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">code</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderPrint</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>请注意，有两个 render 函数的行为略有不同：</p>
<ul>
<li>
<code><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderText()</a></code> 将结果组合成单个字符串，通常与 <code><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">textOutput()</a></code> 配对</li>
<li>
<code><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderPrint()</a></code> 打印结果，就像在 R console 中一样，并且通常与 <code><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">verbatimTextOutput()</a></code> 配对。</li>
</ul>
<p>我们可以看到与 toy app 的区别：</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">textOutput</a></span><span class="op">(</span><span class="st">"text"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">verbatimTextOutput</a></span><span class="op">(</span><span class="st">"print"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">text</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderText</a></span><span class="op">(</span><span class="st">"hello!"</span><span class="op">)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">print</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html">renderPrint</a></span><span class="op">(</span><span class="st">"hello!"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/text-vs-print.png" width="600"></div>
<p>这相当于 R 语言中 <code><a href="https://rdrr.io/r/base/cat.html">cat()</a></code> 和 <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> 的区别。</p>
</div>
<div id="tables" class="section level3" number="2.3.2">
<h3>
<span class="header-section-number">2.3.2</span> Tables<a class="anchor" aria-label="anchor" href="#tables"><i class="fas fa-link"></i></a>
</h3>
<p>有两种用于在表格中显示 data frames 的选项：</p>
<ul>
<li><p><code><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">tableOutput()</a></code> 和 <code><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">renderTable()</a></code> 渲染静态数据表，一次性显示所有数据。</p></li>
<li><p><code><a href="https://rdrr.io/pkg/shiny/man/renderDataTable.html">dataTableOutput()</a></code> 和 <code><a href="https://rdrr.io/pkg/shiny/man/renderDataTable.html">renderDataTable()</a></code> 呈现一个动态表，显示固定数量的行以及用于更改哪些行可见的控件。</p></li>
</ul>
<p><code><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">tableOutput()</a></code> 对于小型固定摘要最有用（例如模型系数）；如果您想向用户公开完整的 data frame，则 <code><a href="https://rdrr.io/pkg/shiny/man/renderDataTable.html">dataTableOutput()</a></code> 最合适。
如果您想更好地控制 <code><a href="https://rdrr.io/pkg/shiny/man/renderDataTable.html">dataTableOutput()</a></code> 的输出，我强烈推荐 Greg Lin 的 <a href="https://glin.github.io/reactable/index.html">reactable</a> 包。</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">tableOutput</a></span><span class="op">(</span><span class="st">"static"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderDataTable.html">dataTableOutput</a></span><span class="op">(</span><span class="st">"dynamic"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">static</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderTable.html">renderTable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">dynamic</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderDataTable.html">renderDataTable</a></span><span class="op">(</span><span class="va">mtcars</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/output-table.png" width="100%"></div>
</div>
<div id="plots" class="section level3" number="2.3.3">
<h3>
<span class="header-section-number">2.3.3</span> Plots<a class="anchor" aria-label="anchor" href="#plots"><i class="fas fa-link"></i></a>
</h3>
<p>您可以使用 <code><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput()</a></code> 和 <code><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot()</a></code> 显示任何类型的 R 图形（base、ggplot2 或其他）：</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput</a></span><span class="op">(</span><span class="st">"plot"</span>, width <span class="op">=</span> <span class="st">"400px"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPlot.html">renderPlot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>, res <span class="op">=</span> <span class="fl">96</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="inline-figure"><img src="demos/basic-ui/output-plot.png" width="600"></div>
<p>默认情况下，<code><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput()</a></code> 将占据其容器的整个宽度（稍后会详细介绍），高度为 400 像素。
您可以使用 <code>height</code> 和 <code>width</code> 参数覆盖这些默认值。
我们建议始终设置 <code>res = 96</code>，因为这将使您的 Shiny plots 尽可能匹配您在 RStudio 中看到的内容。</p>
<p>Plots 很特殊，因为它们是输出，也可以充当输入。
<code><a href="https://rdrr.io/pkg/shiny/man/plotOutput.html">plotOutput()</a></code> 有许多参数，例如 <code>click</code>、<code>dblclick</code> 和 <code>hover</code>。
如果您向它们传递一个字符串，例如 <code>click = "plot_click"</code>，它们将创建一个反应性输入 (<code>input$plot_click</code>)，您可以使用它来处理绘图上的用户交互，例如单击绘图。
我们将在 Chapter <a href="#action-graphics"><strong>??</strong></a> 中回到 Shiny 中的 interactive plots。</p>
</div>
<div id="downloads" class="section level3" number="2.3.4">
<h3>
<span class="header-section-number">2.3.4</span> Downloads<a class="anchor" aria-label="anchor" href="#downloads"><i class="fas fa-link"></i></a>
</h3>
<p>您可以使用 <code><a href="https://rdrr.io/pkg/shiny/man/downloadButton.html">downloadButton()</a></code> 或 <code><a href="https://rdrr.io/pkg/shiny/man/downloadButton.html">downloadLink()</a></code> 让用户下载文件。
这些需要 server 函数中的新技术，所以我们将在 Chapter <a href="#action-transfer"><strong>??</strong></a> 中回到这一点。</p>
</div>
<div id="exercises-2" class="section level3" number="2.3.5">
<h3>
<span class="header-section-number">2.3.5</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises-2"><i class="fas fa-link"></i></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<p>以下每个 render 函数应该与 <code><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">textOutput()</a></code> 和 <code><a href="https://rdrr.io/pkg/shiny/man/textOutput.html">verbatimTextOutput()</a></code> 中的哪一个配对？</p>
<ol style="list-style-type: lower-alpha">
<li><p><code>renderPrint(summary(mtcars))</code></p></li>
<li><p><code>renderText("Good morning!")</code></p></li>
<li><p><code>renderPrint(t.test(1:5, 2:6))</code></p></li>
<li><p><code>renderText(str(lm(mpg ~ wt, data = mtcars)))</code></p></li>
</ol>
</li>
<li><p>重新创建 Section <a href="basic-ui.html#plots">2.3.3</a> 中的 Shiny app，这次将高度设置为 300px，宽度设置为 700px。
设置绘图 “alt” 文本，以便视障用户可以看出它是五个随机数的散点图。</p></li>
<li>
<p>更新下面对 <code><a href="https://rdrr.io/pkg/shiny/man/renderDataTable.html">renderDataTable()</a></code> 的调用中的选项，以便显示数据，但抑制所有其他控件（即删除搜索、排序和过滤命令）。
您需要阅读 <code><a href="https://rdrr.io/pkg/shiny/man/renderDataTable.html">?renderDataTable</a></code> 并查看 <a href="https://datatables.net/reference/option/" class="uri">https://datatables.net/reference/option/</a> 中的选项。</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderDataTable.html">dataTableOutput</a></span><span class="op">(</span><span class="st">"table"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderDataTable.html">renderDataTable</a></span><span class="op">(</span><span class="va">mtcars</span>, options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>pageLength <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</li>
<li><p>或者，阅读有关 <a href="https://glin.github.io/reactable">reactable</a> 的内容，并将上述 app 转换为使用它。</p></li>
</ol>
</div>
</div>
<div id="summary-1" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Summary<a class="anchor" aria-label="anchor" href="#summary-1"><i class="fas fa-link"></i></a>
</h2>
<p>本章向您介绍了构成 Shiny app 前端的主要输入和输出函数。
这是一个很大的信息转储，所以不要指望在一次阅读后记住所有内容。
相反，当您正在寻找特定组件时，请返回本章：您可以快速浏览图形，然后找到您需要的代码。</p>
<p>在下一章中，我们将继续讨论 Shiny app 的后端：使用户界面栩栩如生的 R 代码。</p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="basic-app.html"><span class="header-section-number">1</span> Your first Shiny app</a></div>
<div class="next"><a href="basic-reactivity.html"><span class="header-section-number">3</span> Basic reactivity</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#basic-ui"><span class="header-section-number">2</span> Basic UI</a></li>
<li><a class="nav-link" href="#introduction-1"><span class="header-section-number">2.1</span> Introduction</a></li>
<li>
<a class="nav-link" href="#inputs"><span class="header-section-number">2.2</span> Inputs</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#common-structure"><span class="header-section-number">2.2.1</span> Common structure</a></li>
<li><a class="nav-link" href="#free-text"><span class="header-section-number">2.2.2</span> Free text</a></li>
<li><a class="nav-link" href="#numeric-inputs"><span class="header-section-number">2.2.3</span> Numeric inputs</a></li>
<li><a class="nav-link" href="#dates"><span class="header-section-number">2.2.4</span> Dates</a></li>
<li><a class="nav-link" href="#limited-choices"><span class="header-section-number">2.2.5</span> Limited choices</a></li>
<li><a class="nav-link" href="#file-uploads"><span class="header-section-number">2.2.6</span> File uploads</a></li>
<li><a class="nav-link" href="#action-buttons"><span class="header-section-number">2.2.7</span> Action buttons</a></li>
<li><a class="nav-link" href="#exercises-1"><span class="header-section-number">2.2.8</span> Exercises</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#outputs"><span class="header-section-number">2.3</span> Outputs</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#text"><span class="header-section-number">2.3.1</span> Text</a></li>
<li><a class="nav-link" href="#tables"><span class="header-section-number">2.3.2</span> Tables</a></li>
<li><a class="nav-link" href="#plots"><span class="header-section-number">2.3.3</span> Plots</a></li>
<li><a class="nav-link" href="#downloads"><span class="header-section-number">2.3.4</span> Downloads</a></li>
<li><a class="nav-link" href="#exercises-2"><span class="header-section-number">2.3.5</span> Exercises</a></li>
</ul>
</li>
<li><a class="nav-link" href="#summary-1"><span class="header-section-number">2.4</span> Summary</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/zhenghu159/mastering-shiny-zh-cn/blob/master/basic-ui.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/zhenghu159/mastering-shiny-zh-cn/edit/master/basic-ui.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Mastering Shiny</strong>" was written by Hadley Wickham. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
